name: rika2mqtt-stack
services:
  mqtt-server:
    # user: testuser
    # password: secret
    container_name: rika2mqtt_mqtt-server
    image: eclipse-mosquitto
    volumes:
      - type: bind
        source: ./mosquitto/config/
        target: /mosquitto/config/
    ports:
      - 1883:1883

#  rika2mqtt:
#    container_name: rika2mqtt_bridge
#    depends_on:
#      - mqtt-server
#    image: cookiecodedev/rika2mqtt
#    environment:
#      - MQTT_HOST=localhost
#      - MQTT_USERNAME=testuser
#      - MQTT_PASSWORD=secret
#      - RIKA_EMAIL=<your email>
#      - RIKA_PASSWORD=<your password>

volumes:
  data:
    name: "mqtt-broker-data"